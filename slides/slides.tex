\documentclass[table, usenames, svgnames, dvipsnames]{beamer}
\usepackage{listings}
\usepackage{beamerthemeshadow}
\usepackage[latin1]{inputenc}
\usepackage[absolute,overlay]{textpos}
\usepackage{array}
\usepackage{tikz}
\usepackage{color}

% Coisas adicionadas pelo Alberto.
\usepackage{proof}
\usepackage{easylist}
% \usepackage[portuguese]{babel}
\usepackage{amsmath}
\usepackage[round]{natbib}

\usepackage{verbatim}

\usetheme{Rochester}
%\usetheme{Luebeck}
\usecolortheme{rose}

\setbeamerfont{frametitle}{size=\normalsize}
\setbeamerfont{title}{size=\normalsize}
\beamertemplatenavigationsymbolsempty

\setbeamertemplate{navigation symbols}{}
\setbeamertemplate{footline}{}

\DeclareGraphicsExtensions{.pdf,.jpg,.png} % compilamos apenas com pdflatex
\graphicspath{{.}{./figuras/}} % caminho onde as figuras estarao disponiveis

\setlength{\TPHorizModule}{1mm}

\setlength{\TPVertModule}{1mm}
\newcommand{\MyLogo}{%
\begin{textblock}{}(118.5, 2.5)
   \includegraphics[width=0.7cm]{figuras/ime-mod2.png}
\end{textblock}
}

\title{Automação de Testes em Aplicações de BPMS: um Relato de Experiência}

% \usepackage{framed} % utilizado para codigo fonte
\definecolor{shadecolor}{named}{LightGray}

\usepackage[portuguese]{babel}

% ---------------------------------------------------------------------------- %
% Título
% ---------------------------------------------------------------------------- %

\subtitle{}
\date{}

% ---------------------------------------------------------------------------- %
\begin{document}
% ---------------------------------------------------------------------------- %

% ---------------------------------------------------------------------------- %
% Primeira página: slide 0
% --------------------------------------------------------------------------- - %
\begin{frame}
   \centering
   \textsc{Universidade Federal de Santa Maria}\\
   \textsc{Programa de Pós-Graduação em Informática - PPGI}\\
   \vspace{15pt}
   \titlepage
   \vspace{-60pt}
   \begin{center}
      \textsc{}\\
      \textsc{}\\
      \hfill\\
      \textsc{} Jéssica Lasch de Moura e Andrea Schwertner Charão
   \end{center}
\end{frame}

\begin{frame}
\frametitle{Introdução} 
\begin{itemize}
\item BPM = "Business Process Management" ou "Gestão de Processos de Negocio";
\item BPMS = "Business Process Management Software";
\item Verificação e testes = desafio;
\begin{itemize}
\item Falta de automação nos testes pode levar a problemas;
\end{itemize}
\item Objetivo: explorar soluções para teste automatizado de um processo implementado em um BPMS.
\end{itemize}
  \begin{figure}[h]
    \centering
    \includegraphics[height=0.4\paperheight]{figuras/diagramIcon.jpg}
    %\includegraphics[height=6cm]{figCoordEsf02}
%    \caption{}
  \end{figure}
\end{frame}

\begin{frame}
\frametitle{BPM e Testes} 
\begin{itemize}
\item Ciclo de vida BPM
\end{itemize}
  \begin{figure}[h]
    \centering
    \includegraphics[height=0.6\paperheight]{figuras/bpm-lyfe-cycle.png}
    %\includegraphics[height=6cm]{figCoordEsf02}
    \caption{Ciclo de vida BPM. Fonte: https://conceptdraw.com}
  \end{figure}
\end{frame}

%\begin{frame}
%\frametitle{BPM e Testes} 
%\begin{itemize}
%\item estudar o que colocar nesse slide!
%\end{itemize}
%\end{frame}


\begin{frame}
\frametitle{O que foi feito} 
\begin{itemize}
\item Em um trabalho anterior, foi criada uma aplicaçao utilizando o BPMS "Bonita Soft";
\item A aplicação foi submetida a testes funcionais realizados manualmente;
\begin{itemize}
\item Problemas!
\end{itemize}
\item BPMS utilizado não possuía suporte a nenhum tipo de teste automatizado;
\item Buscou-se outros BPMS com licenças open source ou freeware, que pudessem implementar o processo em questão e que oferecessem suporte a testes.
\end{itemize}
  \begin{figure}[h]
    \centering
    \includegraphics[width=0.7\paperwidth]{figuras/bpms.png}
    %\includegraphics[height=6cm]{figCoordEsf02}
    \caption{BPMS analisados}
  \end{figure}
\end{frame}

\begin{frame}
\frametitle{O que foi feito} 
  \begin{figure}[h]
    \centering
    \includegraphics[height=0.65\paperheight]{figuras/processo.png}
    %\includegraphics[height=6cm]{figCoordEsf02}
    \caption{Processo alvo dos testes: Solicitação de Atividade Complementar de Graduação}
  \end{figure}
\end{frame}


\begin{frame}
\frametitle{Descrição e Execução dos Testes} 

\begin{enumerate}
\item \textbf{Testes de carga:} um tipo de teste de desempenho, visando avaliar o comportamento do sistema frente a um grande número de solicitações;
\item \textbf{Testes funcionais:} verificar as saídas do sistema produzidas a partir de entradas pré-definidas. 
\end{enumerate}

\begin{tikzpicture}[remember picture,overlay]
  \tikzset{inner sep=0pt,outer sep=0pt}
  %Primeiro plano (foreground)
  %Nó posicionado acima e a esquerda do canto sul leste da página.
  \node[above left] at (current page.south east) {
    \includegraphics[width=4cm]{figuras/software-test.jpg}
  };
\end{tikzpicture}
\end{frame}

\begin{frame}
\frametitle{Testes de carga} 
\begin{itemize}
\item Realizados gerando-se múltiplas requisições HTTP ao servidor, de forma controlada;
\item Exemplos de ferramentas: JMeter, The Grinder e Gatling  
\end{itemize}
  \begin{figure}[h]
    \centering
    \includegraphics[width=0.7\paperwidth]{figuras/fluxogramaCarga.png}
    %\includegraphics[height=6cm]{figCoordEsf02}
    \caption{Etapas para teste de carga utilizando o JMeter}
  \end{figure}
\end{frame}


\begin{frame}
\frametitle{Testes de carga} 
\begin{itemize}
\item As requisições HTTP carregam chaves identificando usuários e processos;
\begin{itemize}
\item Bonita = chave identificadora de sessão gerada no momento em que o usuário acessa o sistema e outra chave identificadora de instância.
\end{itemize}
\end{itemize}
  \begin{figure}[h]
    \centering
    \includegraphics[width=0.7\paperwidth]{figuras/extrator.png}
    %\includegraphics[height=6cm]{figCoordEsf02}
    \caption{Obtendo chave identificadora utilizando o Extrator de Express\~ao Regular}
  \end{figure}
\end{frame}

\begin{frame}
\frametitle{Resultados dos Testes de Carga} 
\begin{table}
%{\scriptsize
\centering
\begin{tabular}{p{1.5cm}|p{1cm}|p{1.5cm}|p{1.5cm}|p{1.5cm}|p{1.5cm}}
\hline
Usuários & Login & Pág. Inicial & Seleção Processo & Form. Inicial & Enviar form. \\\hline
1 & 126 & 32 & 38 & 80 & 73\\\hline
50 & 597 & 191 & 179 & 368 & 152\\\hline
100 & 1972 & 571 & 552 & 760 & 694\\\hline
\textbf{\color{red}200} & \textbf{\color{red}10.149} & \textbf{\color{red}3.239} & \textbf{\color{red}934} & \textbf{\color{red}2.122} & \textbf{\color{red}1.918}\\\hline
\end{tabular}
%}
\caption{Tempos médios de resposta, em milissegundos}
\label{tab:resultadoCarga}
\end{table}
\end{frame}

\begin{frame}
\frametitle{Testes funcionais} 
\begin{itemize}
\item Para executar testes funcionais em aplicações Web, pode-se utilizar ferramentas livres como Selenium, Watir ou Geb;
\item Para este trabalho, escolheu-se a ferramenta Selenium, aliada ao Cucumber-JVM para descrição dos testes. 
\end{itemize}
  \begin{figure}[h]
    \centering
    \includegraphics[width=0.7\paperwidth]{figuras/fluxogramaFuncional.png}
    %\includegraphics[height=6cm]{figCoordEsf02}
    \caption{Etapas para teste funcional utilizando o Selenium e Cucumber-jvm}
  \end{figure}
\end{frame}


\begin{frame}
\frametitle{Testes funcionais} 
\begin{itemize}
\item Para a execução dos testes com sucesso, foram necessárias algumas alterações nos códigos gerados.
\end{itemize}
  %\begin{figure}[h]
   % \centering
   % \includegraphics[width=0.5\paperwidth]{figuras/codigo.png}
    %\includegraphics[height=6cm]{figCoordEsf02}
   % \caption{Etapas para teste funcional utilizando o Selenium e Cucumber-jvm}
  %\end{figure}
    \begin{figure}[h]
    \centering
    \includegraphics[width=0.6\paperwidth]{figuras/codigoAct.png}
    %\includegraphics[height=6cm]{figCoordEsf02}
    \caption{Exemplo de alteração no código gerado pelo Selenium}
  \end{figure}
\end{frame}


\begin{frame}
\frametitle{Resultados dos testes funcionais} 
\begin{table}
\begin{center}
{\scriptsize
\begin{tabular}{p{4cm}|l|p{3cm}}
\hline
 & Bonita & Activiti \\\hline
Componentes Web & HTML, CSS, Ajax & HTML, CSS, Ajax \\\hline
Captura da interação do usuário utilizando o Selenium & Total & Parcial (necessitou de inser\-ção manual de alguns campos) \\\hline
Foi possível exportar o código gerado pelo Selenium? & Sim & Sim \\\hline
Reconhecimento de todos os campos capturados SEM alteração de código & Parcial & Parcial \\\hline
Reconhecimento de todos os campos capturados COM alteração de código & Total & Total \\\hline
Foi possível criar o cenário e executar o teste? & Sim & Sim \\\hline
\end{tabular}
}
\caption{Resumo comparativo sobre o teste funcional}
\label{tab:testeFuncional}
\end{center}
\end{table}
\end{frame}


\begin{frame}
\frametitle{Considerações finais} 
\begin{itemize}
\item Teste de carga: útil para explicar falhas observadas no trabalho anterior;
\begin{itemize}
\item Pode ser trabalhoso ou até  inviável;
\end{itemize}
\item Teste funcional: maior sucesso na execução dos testes;
\begin{itemize}
\item Menor dependência dos BPMS (em comparação com o teste de carga);
\item Também pode ser trabalhoso dependendo do processo;
\end{itemize}
\item Sob certas condições, é viável testar aplicações de BPMS com ferramentas de teste para sistemas Web; 
\item Pôde-se notar que o suporte a testes automatizados é pouco explorado em BPMS;
\begin{itemize}
\item Seria uma funcionalidade bem-vinda.
\end{itemize}
\end{itemize}
\end{frame}

%Seção 15.4 e 16.4
%\begin{frame}
%\frametitile{Bibliografia}
%\bibliographystyle{sbc}
%\bibliography{sbc-template}
%\end{frame}
%\bibliography{referencias}
%\bibliographystyle{plainnat}

\end{document}
