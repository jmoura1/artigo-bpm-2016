%inicio jessica
\begin{frame}
\frametitle{15.2 A relação de subtipos} 
\begin{itemize}
\item Coleção de regras de inferência para derivar declarações
\end{itemize}
 \begin{block}{}
      \begin{align*}
 & \texttt{\frenchspacing S <: S} & & (\textsc{S-Refl})\\
	 &\\
        %  & \mbox{\infer{\texttt{\frenchspacing S <: T}}{\texttt{\frenchspacing S <: U}} & &  \texttt{\frenchspacing U <: T}} & & \textsc{(S-Trans)}
         & \mbox{\infer{\texttt{\frenchspacing S <: T}}{\texttt{\frenchspacing S <: U} & &  \texttt{\frenchspacing U <: T}}} & & \textsc{(S-Trans)}
&\\
&\\
& \texttt{\frenchspacing {$\{ \rceil_i : T_i\ ^{i \in 1..n+k} \} <: \{ \rceil_i : T_i\ ^{i \in 1..n} \} $}} & & (\textsc{S-RcdWidth})\\
      \end{align*}
   \end{block}
\end{frame}

\begin{frame}
\frametitle{15.2 A relação de subtipos} 
\begin{itemize}
\item Exemplos:
\begin{itemize}
\item $ \{x:Nat\} $
\begin{itemize}
\item $\{x=3\},\ \{x=5\},\ e\ \{x=3,a=true,b=true\}$
\end{itemize}
\item $\{x:Nat,y:Nat\}$
\begin{itemize}
\item $\{x=3,y=100\}\ e\ \{x=3,y=100,z=true\}$ 
\end{itemize}
\end{itemize}
\end{itemize}
\end{frame}

\begin{frame}
\frametitle{15.2 A relação de subtipos} 
\begin{itemize}
\item É seguro permitir que os tipos dos campos variem desde que os tipos correspondentes nos dois registros estejam na relação de subtipos;
\end{itemize}
 \begin{block}{}
      \begin{align*}
        %  & \mbox{\infer{\texttt{\frenchspacing S <: T}}{\texttt{\frenchspacing S <: U}} & &  \texttt{\frenchspacing U <: T}} & & \textsc{(S-Trans)}
         & \mbox{\infer{\texttt{\frenchspacing $\{ \rceil_i : S_i\ ^{i \in 1..n} \} <: \{ \rceil_i : T_i\ ^{i \in 1..n} \} $}}{\texttt{\frenchspacing for each $i\quad S_i <:T_i$}}} & & \textsc{(S-RcdDepth)}
      \end{align*}
   \end{block}
\end{frame}

\begin{frame}
\frametitle{15.2 A relação de subtipos} 
\begin{itemize}
\item A ordem dos campos no registro não faz diferença em como podemos usá-los;
\end{itemize}
 \begin{block}{}
      \begin{align*}
        %  & \mbox{\infer{\texttt{\frenchspacing S <: T}}{\texttt{\frenchspacing S <: U}} & &  \texttt{\frenchspacing U <: T}} & & \textsc{(S-Trans)}
         & \mbox{\infer{\texttt{\frenchspacing $\{ k_j : S_j\ ^{j \in 1..n} \} <: \{ _i : T_i\ ^{i \in 1..n} \} $}}{\texttt{\frenchspacing $\{ k_j : S_j\ ^{j \in 1..n} \}$ is a permutation of $ \{ \rceil_i : T_i\ ^{i \in 1..n} \} $}}} & & \textsc{(S-RcdPerm)}
      \end{align*}
   \end{block}
\end{frame}


\begin{frame}
\frametitle{15.2 A relação de subtipos} 
\begin{itemize}
\item Como estamos trabalhando com uma linguagem que não terá apenas números e registros, mas também funções onde funções podem ser utilizadas como argumentos, precisamos especificar sobre quais circunstâncias é seguro usar uma função de um determinado tipo em um contexto onde é esperada uma função de um tipo diferente;
\end{itemize}
 \begin{block}{}
      \begin{align*}
       & \mbox{\infer{\texttt{\frenchspacing $ S_1\ \to\ S_2 <: T_1\ \to\ T_2 $ }}{\texttt{\frenchspacing$ T_1 <: S_1 \qquad S_2 <: T_2 $}}} & & \textsc{(S-Arrow)}
      \end{align*}
   \end{block}
\end{frame}


\begin{frame}
\frametitle{15.2 A relação de subtipos} 
\begin{itemize}
\item É conveniente ter um tipo que seja um "supertipo" de cada tipo, para isso introduzimos a nova constante de tipo "Top";
\end{itemize}
 \begin{block}{}
      \begin{align*}
  & \texttt{\frenchspacing S <: Top} & & (\textsc{S-Top})\\
      \end{align*}
   \end{block}
\end{frame}
%

